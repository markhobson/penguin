<!--
	View for displaying a queue.
-->
<div data-bind="with: queue">

	<h3 data-bind="text: name"></h3>

	<div data-bind="if: stories().length">
		<table class="table table-striped">
			<thead>
				<tr>
					<th style="width: 20%">Name</th>
					<th style="width: 60%">Title</th>
					<th style="width: 20%">Author</th>
					<th></th>
					<th></th>
					<th></th>
				</tr>
			</thead>
			<tbody data-bind="foreach: stories">
				<tr data-bind="css: {merged: merged}">
					<td data-bind="text: name"></td>
					<td data-bind="text: title"></td>
					<td data-bind="text: author"></td>
					<td>
						<a data-bind="ifnot: merged(), attr: {href: '#/queue/' + $parent._id() + '/story/' + _id() + '/merge'}, click: $parents[1].merge">
							<i class="icon-ok"></i>
						</a>
						<a data-bind="if: merged(), attr: {href: '#/queue/' + $parent._id() + '/story/' + _id() + '/unmerge'}, click: $parents[1].unmerge">
							<i class="icon-ok"></i>
						</a>
					</td>
					<td>
						<a data-bind="attr: {href: '#/queue/' + $parent._id() + '/story/' + _id() + '/update'}">
							<i class="icon-pencil"></i>
						</a>
					</td>
					<td>
						<a data-bind="attr: {href: '#/queue/' + $parent._id() + '/story/' + _id() + '/delete'}">
							<i class="icon-remove"></i>
						</a>
					</td>
				</tr>
			</tbody>
		</table>
	</div>

	<div data-bind="ifnot: stories().length">
		<p>This queue has no stories.  Would you like to create one?</p>
	</div>

	<a class="btn btn-primary" data-bind="attr: {href: '#/queue/' + _id() + '/stories/create'}">
		<i class="icon-plus icon-white"></i> New Story
	</a>
	
</div>
